<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Using Custom Post Types and Taxonomies | AuTool Scripts</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://danalites.github.io/autool/blog/using-cpts-and-taxonomies"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Using Custom Post Types and Taxonomies | AuTool Scripts"><meta data-rh="true" name="description" content="How to register and use custom post types and taxonomies with Eightshift Dev Kit"><meta data-rh="true" property="og:description" content="How to register and use custom post types and taxonomies with Eightshift Dev Kit"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-12-13T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/iobrado"><meta data-rh="true" property="article:tag" content="eightshift,boilerplate,cpt,custom post type,taxonomy,taxonomies,terms"><link data-rh="true" rel="icon" href="/autool/img/favicon.png"><link data-rh="true" rel="canonical" href="https://danalites.github.io/autool/blog/using-cpts-and-taxonomies"><link data-rh="true" rel="alternate" href="https://danalites.github.io/autool/blog/using-cpts-and-taxonomies" hreflang="en"><link data-rh="true" rel="alternate" href="https://danalites.github.io/autool/blog/using-cpts-and-taxonomies" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://CWB1S6U3C4-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/autool/blog/rss.xml" title="AuTool Scripts RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/autool/blog/atom.xml" title="AuTool Scripts Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-P5GG5DH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-P5GG5DH",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="AuTool Scripts" href="/autool/opensearch.xml">

<script src="https://buttons.github.io/buttons.js" async defer="defer"></script><link rel="stylesheet" href="/autool/assets/css/styles.529baffd.css">
<link rel="preload" href="/autool/assets/js/runtime~main.cf287d77.js" as="script">
<link rel="preload" href="/autool/assets/js/main.9e73fc9a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/autool/"><div class="navbar__logo"><img src="/autool/img/logo.svg" alt="AuTool Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/autool/img/logo.svg" alt="AuTool Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/autool/get-started">Get Started</a><a class="navbar__item navbar__link" href="/autool/docs/intro-install">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/autool/blog">Blog</a><a class="navbar__item navbar__link" href="/autool/showcase">Showcase</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Latest posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/autool/blog/using-cpts-and-taxonomies">Using Custom Post Types and Taxonomies</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/autool/blog/block-variations">Block Variations</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/autool/blog/acf-in-a-project">How to use ACF in your project</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/autool/blog/using-assets">Using assets in a project</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/autool/blog/adding-fonts">Adding fonts</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Using Custom Post Types and Taxonomies</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-12-13T00:00:00.000Z" itemprop="datePublished">December 13, 2022</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/iobrado" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/23059501?v=4" alt="Igor Obradović"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/iobrado" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Igor Obradović</span></a></div><small class="avatar__subtitle" itemprop="description">WordPress Engineer</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>WordPress offers two default ways to group content by content type - using posts or pages. Posts and pages are registered as default post types in the WordPress app. But sometimes, that is not enough. That&#x27;s where custom post types (CPT) and custom taxonomies come in. This blog post will cover the basics of registering CPTs and taxonomies using Eightshift Dev Kit.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-should-you-use-cpts">Why should you use CPTs?<a href="#why-should-you-use-cpts" class="hash-link" aria-label="Direct link to Why should you use CPTs?" title="Direct link to Why should you use CPTs?">​</a></h2><p>The great thing about WordPress is how extensible it is. With projects becoming more complex, the need for additional post types and taxonomies increases. Sure, you can cram everything into default posts or pages, but this can become very chaotic. Using custom post types allows you to manage your content much better. You can separate events and projects from news articles for instance.</p><p>Post <code>category</code> and <code>tag</code> are taxonomies - a grouping you can further separate by terms belonging to that taxonomy. WordPress, since version 2.3.0 offers a way to register your own, custom taxonomies.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="registering-custom-post-types">Registering Custom Post Types<a href="#registering-custom-post-types" class="hash-link" aria-label="Direct link to Registering Custom Post Types" title="Direct link to Registering Custom Post Types">​</a></h2><p>For this exercise, we&#x27;ll create a new post type called <code>Projects</code>. To make the process of registering new CPTs as easy as possible, we&#x27;ll use a WP-CLI command to create our CPT with the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">wp boilerplate create post-type --label</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Project&#x27;</span><span class="token plain"> --plural_label</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Projects&#x27;</span><span class="token plain"> --slug</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;project&#x27;</span><span class="token plain"> --rewrite_url</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;project&#x27;</span><span class="token plain"> --rest_endpoint_slug</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;projects&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>If your new CPT is not working, try flushing rewrite rules by re-saving the settings in <strong>Settings -&gt; Permalinks</strong> or by using <code>wp cache flush</code> CLI command</p></blockquote><p>Your new post type is registered and ready to use! Easy, right?</p><p>Sometimes all these parameters can be a bit confusing, so here&#x27;s a quick reference of best practices when setting these parameters:</p><table><thead><tr><th>Parameter</th><th>Singular/Plural</th><th>Writing style</th><th>Example</th></tr></thead><tbody><tr><td>label</td><td>Singular</td><td>Regular</td><td>Project</td></tr><tr><td>plural_label</td><td>Plural</td><td>Regular</td><td>Projects</td></tr><tr><td>slug</td><td>Singular</td><td>kebab-case</td><td>project</td></tr><tr><td>rewrite_url</td><td>Singular</td><td>kebab-case</td><td>project</td></tr><tr><td>rest_endpoint_slug</td><td>Plural</td><td>kebab-case</td><td>projects</td></tr></tbody></table><p>There is a reason for this naming convention. For example:</p><ul><li><code>slug</code> is attached to a single custom post type in the database, which is why it is written in singular</li><li><code>rest_endpoint_slug</code> is used to fetch a collection of posts from that custom post type, which is why it should be written in plural</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="registering-taxonomies">Registering Taxonomies<a href="#registering-taxonomies" class="hash-link" aria-label="Direct link to Registering Taxonomies" title="Direct link to Registering Taxonomies">​</a></h2><p>Now that we have the new custom post type, we need a way to group the projects. We&#x27;ll create a custom taxonomy called <code>Project Technology</code>. As with the CPT registration, the easiest way to register taxonomies is by using the following WP-CLI command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">wp boilerplate create taxonomy --label</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Project Technology&#x27;</span><span class="token plain"> --plural_label</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Project Technologies&#x27;</span><span class="token plain"> --slug</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;project-technology&#x27;</span><span class="token plain"> --rest_endpoint_slug</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;project-technologies&#x27;</span><span class="token plain"> --post_type_slug</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;project&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Similar suggestions apply to the parameters when naming taxonomies as well. Be sure to write the correct post type slug for which you are registering this new taxonomy!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="structure">Structure<a href="#structure" class="hash-link" aria-label="Direct link to Structure" title="Direct link to Structure">​</a></h2><p>When checking your codebase after adding these new custom post types and taxonomies, you&#x27;ll notice the post types are located inside the <code>src/CustomPostType</code> folder, and the taxonomies are located inside the <code>src/CustomTaxonomy</code> folder. Following the <strong>Single Responsibility Principle</strong>, each post type or taxonomy is in a separate class.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="modifying-options">Modifying options<a href="#modifying-options" class="hash-link" aria-label="Direct link to Modifying options" title="Direct link to Modifying options">​</a></h2><p>Our custom post type and taxonomy are ready to use, but we still want to make some changes. For starters, we want another icon and for the Projects to be located below the Posts in the WordPress admin menu. In <code>src/CustomPostType/ProjectPostType.php</code>, find the <code>MENU_POSITION</code> constant and change it to <code>5</code>. The lower the number, the higher it will be in the menu.</p><p>Next, we want to update the icon representing the new post type in the menu. These icons are named dashicons. Change the <code>MENU_ICON</code> constant to <code>dashicons-clipboard</code>. If you want another icon for your CPT, here is the list of <a href="https://developer.wordpress.org/resource/dashicons/" target="_blank" rel="noopener noreferrer">available dashicons</a>. Finally, we want to remove the author and comments. In <code>getPostTypeArguments()</code> method, find the key <code>supports</code> in the return value and remove <code>author</code> and <code>comments</code> from the array.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="clashing-slugs">Clashing slugs<a href="#clashing-slugs" class="hash-link" aria-label="Direct link to Clashing slugs" title="Direct link to Clashing slugs">​</a></h2><p>Something that can happen when working on your project is that you have the same slugs for your custom post type and your page, for example. Let&#x27;s say you have a page with a slug <code>project</code>, and a custom post type with a slug <code>project</code>. When trying to access the page, you&#x27;ll keep getting the Project CPT archive. To fix it, you have to change one of the slugs or write a custom redirection rule (which we don&#x27;t recommend, as the redirections are tricky to handle in WordPress).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="further-reading">Further reading<a href="#further-reading" class="hash-link" aria-label="Direct link to Further reading" title="Direct link to Further reading">​</a></h2><p>For the best overview of all the options you have when registering your custom post type or taxonomy, we recommend checking the official WordPress docs for the <a href="https://developer.wordpress.org/reference/functions/register_post_type/" target="_blank" rel="noopener noreferrer">register_post_type()</a> and <a href="https://developer.wordpress.org/reference/functions/register_taxonomy/" target="_blank" rel="noopener noreferrer">register_taxonomy()</a> functions.</p><p>If you would like to know more about taxonomies and terms, along with how they are stored in the database, you can read more about it in the <a href="https://developer.wordpress.org/themes/basics/categories-tags-custom-taxonomies/" target="_blank" rel="noopener noreferrer">Categories, Tags, &amp; Custom Taxonomies</a> page of the WordPress docs.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/autool/blog/tags/eightshift">eightshift</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/autool/blog/tags/boilerplate">boilerplate</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/autool/blog/tags/cpt">cpt</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/autool/blog/tags/custom-post-type">custom post type</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/autool/blog/tags/taxonomy">taxonomy</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/autool/blog/tags/taxonomies">taxonomies</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/autool/blog/tags/terms">terms</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/autool/blog/block-variations"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Block Variations</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-should-you-use-cpts" class="table-of-contents__link toc-highlight">Why should you use CPTs?</a></li><li><a href="#registering-custom-post-types" class="table-of-contents__link toc-highlight">Registering Custom Post Types</a></li><li><a href="#registering-taxonomies" class="table-of-contents__link toc-highlight">Registering Taxonomies</a></li><li><a href="#structure" class="table-of-contents__link toc-highlight">Structure</a></li><li><a href="#modifying-options" class="table-of-contents__link toc-highlight">Modifying options</a></li><li><a href="#clashing-slugs" class="table-of-contents__link toc-highlight">Clashing slugs</a></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further reading</a></li></ul></div></div></div></div></div></div>
<script src="/autool/assets/js/runtime~main.cf287d77.js"></script>
<script src="/autool/assets/js/main.9e73fc9a.js"></script>
</body>
</html>