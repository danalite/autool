"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[7905],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),p=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},f="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),f=p(n),d=a,m=f["".concat(l,".").concat(d)]||f[d]||u[d]||r;return n?o.createElement(m,i(i({ref:t},c),{},{components:n})):o.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[f]="string"==typeof e?e:a,i[1]=s;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7372:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return f}});var o=n(7462),a=n(3366),r=(n(7294),n(3905)),i=["components"],s={title:"Adding fonts",description:"An intro to adding fonts to your project.",slug:"adding-fonts",authors:"obradovic",date:new Date("2022-04-12T00:00:00.000Z"),tags:["eightshift","boilerplate","fonts"],hide_table_of_contents:!1},l=void 0,p={permalink:"/autool/blog/adding-fonts",source:"@site/blog/2022-04-08-adding-fonts.md",title:"Adding fonts",description:"An intro to adding fonts to your project.",date:"2022-04-12T00:00:00.000Z",formattedDate:"April 12, 2022",tags:[{label:"eightshift",permalink:"/autool/blog/tags/eightshift"},{label:"boilerplate",permalink:"/autool/blog/tags/boilerplate"},{label:"fonts",permalink:"/autool/blog/tags/fonts"}],readingTime:5.985,hasTruncateMarker:!0,authors:[{name:"Igor Obradovi\u0107",title:"WordPress Engineer",url:"https://github.com/iobrado",imageURL:"https://avatars.githubusercontent.com/u/23059501?v=4",key:"obradovic"}],frontMatter:{title:"Adding fonts",description:"An intro to adding fonts to your project.",slug:"adding-fonts",authors:"obradovic",date:"2022-04-12T00:00:00.000Z",tags:["eightshift","boilerplate","fonts"],hide_table_of_contents:!1},prevItem:{title:"Using assets in a project",permalink:"/autool/blog/using-assets"},nextItem:{title:"Modifying blocks - Color Theme",permalink:"/autool/blog/modifying-blocks-color-theme"}},c={authorsImageUrls:[void 0]},f=[{value:"Importing fonts into your project",id:"importing-fonts-into-your-project",level:2},{value:"Using only one font in a block",id:"using-only-one-font-in-a-block",level:2},{value:"Adding a font picker",id:"adding-a-font-picker",level:2},{value:"Closing thoughts",id:"closing-thoughts",level:2}],u={toc:f},d="wrapper";function m(e){var t=e.components,s=(0,a.Z)(e,i);return(0,r.kt)(d,(0,o.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Every project is unique. Logo, colors, fonts, etc. are what define the visual identity of your website. In this post, we'll cover adding fonts to a project."),(0,r.kt)("h2",{id:"importing-fonts-into-your-project"},"Importing fonts into your project"),(0,r.kt)("p",null,"Our documentation covers the necessary steps to add a font to your project, but here we'll cover the process in a bit more detail. To start, we need a font (or two). For this example, I'll use ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Source Sans Pro"))," and ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Noto Serif"))," which I've downloaded from ",(0,r.kt)("a",{parentName:"p",href:"https://fonts.google.com/"},"Google Fonts"),". They are in the ",(0,r.kt)("inlineCode",{parentName:"p"},".ttf")," format (you may find some which are ",(0,r.kt)("inlineCode",{parentName:"p"},".otf"),", which will work in the same way), so you need to convert them to ",(0,r.kt)("inlineCode",{parentName:"p"},".woff")," and ",(0,r.kt)("inlineCode",{parentName:"p"},".woff2"),". Whatever approach you use is okay - we recommend the following tools:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://convertio.co/ttf-woff/"},"Convertio")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://cloudconvert.com/ttf-to-woff"},"Cloud Convert")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://everythingfonts.com/ttf-to-woff"},"Everything Fonts")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://transfonter.org/"},"Transfonter"))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Just make sure you have the proper license for the fonts you are converting.")),(0,r.kt)("p",null,"Fonts should go inside your theme's ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"/assets/fonts"))," folder. Copy the fonts you want to use there. You will also notice that this folder contains an ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"index.js"))," file, used to import fonts into your project. Here's an example of how I imported my fonts:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// SourceSansPro WOFF\nimport './SourceSansPro-Bold.woff';\nimport './SourceSansPro-BoldItalic.woff';\nimport './SourceSansPro-Italic.woff';\nimport './SourceSansPro-Regular.woff';\nimport './SourceSansPro-Light.woff';\nimport './SourceSansPro-LightItalic.woff';\n\n// SourceSansPro WOFF2\nimport './SourceSansPro-Bold.woff2';\nimport './SourceSansPro-BoldItalic.woff2';\nimport './SourceSansPro-Italic.woff2';\nimport './SourceSansPro-Regular.woff2';\nimport './SourceSansPro-Light.woff2';\nimport './SourceSansPro-LightItalic.woff2';\n\n// NotoSerif WOFF\nimport './NotoSerif-Bold.woff';\nimport './NotoSerif-BoldItalic.woff';\nimport './NotoSerif-Italic.woff';\nimport './NotoSerif-Regular.woff';\n\n// NotoSerif WOFF2\nimport './NotoSerif-Bold.woff2';\nimport './NotoSerif-BoldItalic.woff2';\nimport './NotoSerif-Italic.woff2';\nimport './NotoSerif-Regular.woff2';\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"If you don't need to support IE11, don't include ",(0,r.kt)("inlineCode",{parentName:"p"},".woff")," files. This will save you some bandwidth.")),(0,r.kt)("p",null,"To add these fonts as your base font and secondary font, go to the global manifest located in ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"/src/Blocks"))," and add the following inside ",(0,r.kt)("inlineCode",{parentName:"p"},"globalVariables"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"globalVariables": {\n    // ...\n    "baseFont": "SourceSansPro",\n    "secondaryFont": "NotoSerif",\n    // ...\n}\n')),(0,r.kt)("p",null,"Next, you can create a new file called ",(0,r.kt)("strong",{parentName:"p"},"_",(0,r.kt)("em",{parentName:"strong"},"typography.scss"))," inside your ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"/assets/styles/parts/utils/"))," folder and add the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scss"},"@include font-face(global-settings(baseFont), 'SourceSansPro-Light', 300);\n@include font-face(global-settings(baseFont), 'SourceSansPro-LightItalic', 300, italic);\n@include font-face(global-settings(baseFont), 'SourceSansPro-Regular', 400);\n@include font-face(global-settings(baseFont), 'SourceSansPro-Italic', 400, italic);\n@include font-face(global-settings(baseFont), 'SourceSansPro-Bold', 700);\n@include font-face(global-settings(baseFont), 'SourceSansPro-BoldItalic', 700, italic);\n\n@include font-face(global-settings(secondaryFont), 'NotoSerif-Bold', 700);\n@include font-face(global-settings(secondaryFont), 'NotoSerif-BoldItalic', 700, italic);\n@include font-face(global-settings(secondaryFont), 'NotoSerif-Italic', 400, italic);\n@include font-face(global-settings(secondaryFont), 'NotoSerif-Regular', 400);\n")),(0,r.kt)("p",null,"If you would like to know more about the ",(0,r.kt)("inlineCode",{parentName:"p"},"font-face")," mixin, you can take a look at our ",(0,r.kt)("a",{parentName:"p",href:"/sass"},"Sass documentation"),"."),(0,r.kt)("p",null,"Because this is a new file, we have to include it. You can do that inside ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"/assets/styles/parts/","_","shared.scss"))," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scss"},"// Project specific.\n@import 'utils/shared-variables';\n@import 'utils/typography';\n")),(0,r.kt)("p",null,"Run ",(0,r.kt)("inlineCode",{parentName:"p"},"npm start")," to rebuild your ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"public"))," folder and assets. If you did everything correctly, your build should pass and you will see your fonts inside the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"public"))," folder."),(0,r.kt)("h2",{id:"using-only-one-font-in-a-block"},"Using only one font in a block"),(0,r.kt)("p",null,"There are multiple ways of using fonts in a block. The simplest use case is if you have only one font you want to use for that specific block. In this case, we want the Heading block to only use ",(0,r.kt)("em",{parentName:"p"},"Noto Serif"),"."),(0,r.kt)("p",null,"To make our secondary font available for use, we need to first define it as a CSS variable. We can do that in ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"/assets/styles/parts/utils/","_","shared-variables.scss")),". The base font is already defined there, so all we need to do is add our secondary font definition below it."),(0,r.kt)("p",null,"To make things a bit more consistent, we may also want to rename ",(0,r.kt)("inlineCode",{parentName:"p"},"--global-font-family")," CSS variable to ",(0,r.kt)("inlineCode",{parentName:"p"},"--base-font-family"),". Just don't forget to search/replace this new variable name across your project! Please note that the fallbacks for the fonts can be anything, this is just an example. Once we're done, it should look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scss"},"    --base-font-family: var(--global-base-font), -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica,\n        Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n\n    --secondary-font-family: var(--global-secondary-font), -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica,\n        Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n")),(0,r.kt)("p",null,"After defining the ",(0,r.kt)("inlineCode",{parentName:"p"},"--secondary-font-family")," CSS variable, we can go to ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"/src/Blocks/components/heading/heading-style.scss"))," and add the following rule to the ",(0,r.kt)("inlineCode",{parentName:"p"},".heading")," class:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scss"},"    font-family: var(--secondary-font-family);\n")),(0,r.kt)("p",null,"And that's it! The Heading block will now use the ",(0,r.kt)("em",{parentName:"p"},"Noto Serif")," font."),(0,r.kt)("h2",{id:"adding-a-font-picker"},"Adding a font picker"),(0,r.kt)("p",null,"In some cases, you may want to give users the option to choose between fonts that they want to use in their block. For this example, we'll use the ",(0,r.kt)("inlineCode",{parentName:"p"},"paragraph")," block where we want users to have both ",(0,r.kt)("em",{parentName:"p"},"Source Sans Pro")," and ",(0,r.kt)("em",{parentName:"p"},"Noto Serif")," available."),(0,r.kt)("p",null,"First step is to add a new attribute, options and CSS variable values in ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"/src/Blocks/components/paragraph/manifest.json")),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'// ...\n    "attributes": {\n        // ...\n        "paragraphFontFamily": {\n            "type": "string",\n            "default": "base"\n        }\n    },\n    "options": {\n        // ...\n        "paragraphFontFamily": [\n            {\n                "label": "SourceSansPro",\n                "value": "base"\n            },\n            {\n                "label": "NotoSerif",\n                "value": "secondary"\n            }\n        ],\n        // ...\n    }\n')),(0,r.kt)("p",null,"After defining the new attribute and options for the font family, we now have to add a variable to ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"manifest.json")),". We can add it to the ",(0,r.kt)("inlineCode",{parentName:"p"},"variables")," object. This approach is slightly different from the one explained in the blog post. Here we can use ",(0,r.kt)("inlineCode",{parentName:"p"},"%value%")," wildcard to dynamically add the selected value to our CSS variable."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"paragraphFontFamily": [\n    {\n        "variable": {\n            "paragraph-font-family": "var(--%value%-font-family)"\n        }\n    }\n]\n')),(0,r.kt)("p",null,"The next step is to go to ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"/src/Blocks/components/paragraph/components/paragraph-options.js"))," and add a control for the new font family option. The first thing we can add is a new attribute that will allow us to toggle showing the Paragraph font family option on other blocks which are using the Paragraph component. There might be a case where we want only one font family, so this option may come in handy in some other blocks."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const {\n        setAttributes,\n        //...\n        showParagraphFontFamily = true,\n    } = attributes;\n")),(0,r.kt)("p",null,"After that, we need to fetch either the saved attribute value or get the default one from the manifest. We can do that with the ",(0,r.kt)("inlineCode",{parentName:"p"},"checkAttr")," helper, adding it just below ",(0,r.kt)("inlineCode",{parentName:"p"},"paragraphColor")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"paragraphSize"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"    const paragraphFontFamily = checkAttr('paragraphFontFamily', attributes, manifest);\n")),(0,r.kt)("p",null,"Now we have to add an actual control to the options panel which will allow us to choose between fonts."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"    return (\n        // ...\n        {showParagraphFontFamily &&\n            <CustomSelect\n                label={<IconLabel icon={icons.fontFamily} label={__('Font Family', 'eightshift-theme')} />}\n                value={paragraphFontFamily}\n                options={getOption('paragraphFontFamily', attributes, manifest)}\n                onChange={(value) => setAttributes({ [getAttrKey('paragraphFontFamily', attributes, manifest)]: value })}\n                isClearable={false}\n                isSearchable={false}\n                simpleValue\n            />\n        }\n        // ...\n    );\n")),(0,r.kt)("p",null,"The control for selecting a font should now be available under Paragraph options. Saving the choice now works, but the font stays the same both in the editor and on the frontend."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Font Picker",src:n(3391).Z,width:"272",height:"184"})),(0,r.kt)("p",null,"The final step we need to make this work is to add a CSS rule that consumes our variable to ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"/src/Blocks/components/paragraph/paragraph-style.scss")),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scss"},".paragraph {\n    // ...\n    font-family: var(--paragraph-font-family, var(--base-font-family));\n    // ...\n}\n")),(0,r.kt)("p",null,"After adding this single line of CSS code, your new option for selecting fonts will now be fully functional."),(0,r.kt)("h2",{id:"closing-thoughts"},"Closing thoughts"),(0,r.kt)("p",null,"Adding fonts to a project is something you will usually only do when setting up a new project and then forget about it. As you could see in this blog post, this isn't a complicated process, but it has a specific set of steps that have to be taken in order for custom fonts to work in your project."),(0,r.kt)("p",null,"Of course, there are other ways to include fonts in your project, but the described process is what we recommend and use. This is the (Eightshift) Way."))}m.isMDXComponent=!0},3391:function(e,t,n){t.Z=n.p+"assets/images/font-picker-639150d0f2160811d948af2dbe73db49.png"}}]);